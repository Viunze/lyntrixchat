/* Variabel Warna Dasar (Dark Mode) */
:root {
    --bg-primary: #181829;       /* Background Utama */
    --bg-secondary: #27293d;     /* Sidebar & Header */
    --bg-chat: #181829;          /* Chat Background */
    --bg-input: #3a3f5a;         /* Input Field */
    --bg-hover: #313349;
    --text-primary: #f0f0f5;
    --text-secondary: #a0a0b0;
    --border-color: #313349;

    /* Warna Spesifik AI */
    --color-user: #5e72e4;        /* Biru (User) */
    --color-chatgpt: #00a67e;     /* Hijau (ChatGPT) */
    --color-gemini: #ffd600;      /* Kuning (Gemini) */
    --color-grok: #a259ff;        /* Ungu (Grok) */
    --color-correction: #e44d5c;  /* Merah (Koreksi) */
    --color-light-bg: #f8f9fa;    /* Light Mode Background */
}

/* Light Theme Overrides */
.light-theme {
    --bg-primary: #f8f9fa;
    --bg-secondary: #ffffff;
    --bg-chat: #e9ecef;
    --bg-input: #f0f2f5;
    --bg-hover: #e0e0e0;
    --text-primary: #333333;
    --text-secondary: #6c757d;
    --border-color: #d1d1d1;
}

/* Base Styles */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Inter', sans-serif;
}

body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    font-size: 15px;
    transition: background-color 0.3s, color 0.3s;
}

.hidden { display: none !important; }

/* Login Screen */
.login-container {
    display: flex; justify-content: center; align-items: center; height: 100vh;
}
.login-card {
    background-color: var(--bg-secondary); padding: 50px; border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); text-align: center; max-width: 450px; width: 90%;
}
.login-card h1 { color: var(--color-user); margin-bottom: 5px; font-size: 2.2em; }
.login-card p { color: var(--text-secondary); margin-bottom: 25px; }
.login-card input {
    width: 100%; padding: 14px 20px; margin: 20px 0; border: 1px solid var(--border-color);
    border-radius: 8px; background-color: var(--bg-input); color: var(--text-primary); outline: none;
}
.login-card button {
    background-color: var(--color-user); color: white; border: none; padding: 12px 30px;
    border-radius: 8px; cursor: pointer; font-weight: 600; transition: background-color 0.2s;
}

/* Main App Layout */
.app-container { display: flex; height: 100vh; width: 100vw; }
.sidebar {
    width: 350px; background-color: var(--bg-secondary); border-right: 1px solid var(--border-color);
    display: flex; flex-direction: column; flex-shrink: 0;
}
.chat-room { flex-grow: 1; background-color: var(--bg-chat); display: flex; flex-direction: column; }

/* Sidebar Header */
.sidebar-header, .chat-header {
    height: 65px; padding: 0 20px; display: flex; align-items: center; justify-content: space-between;
    background-color: var(--bg-secondary); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); z-index: 5;
}
.user-info { display: flex; align-items: center; gap: 10px; }
.user-avatar, .chat-avatar {
    width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center;
    font-weight: 600; font-size: 16px; flex-shrink: 0;
}
.user-avatar { background-color: var(--color-user); color: white; }
.multi-avatar { background-color: var(--accent-green); color: white; }
.sidebar-icons .icon-btn { color: var(--text-secondary); margin-left: 10px; }
.sidebar-icons .icon-btn:hover { color: var(--text-primary); background-color: var(--bg-hover); border-radius: 50%; }
.user-name { font-weight: 600; }

/* AI List */
.chat-list-container { overflow-y: auto; flex-grow: 1; }
.ai-item {
    display: flex; align-items: center; padding: 15px 20px; border-bottom: 1px solid var(--border-color);
    cursor: default; transition: background-color 0.2s;
}
.ai-item:hover { background-color: var(--bg-hover); }
.ai-info { flex-grow: 1; margin-left: 15px; }
.ai-name { font-weight: 600; font-size: 16px; }
.ai-status { font-size: 13px; color: var(--text-secondary); }
.status-dot { width: 8px; height: 8px; border-radius: 50%; margin-right: 5px; display: inline-block; }
.status-dot.idle { background-color: var(--text-secondary); }
.status-dot.thinking { background-color: var(--accent-green); animation: pulse 1.5s infinite; }
@keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

/* Chat Header */
.chat-header .chat-name { font-weight: 600; }
.chat-header .chat-status { font-size: 13px; color: var(--text-secondary); }
#arena-status.working { color: var(--accent-green); }

/* Messages Container */
.messages-container {
    flex-grow: 1; overflow-y: auto; padding: 20px 5%;
}
.welcome-message {
    text-align: center; padding: 40px; color: var(--text-secondary);
}
.welcome-message h3 { color: var(--text-primary); margin-bottom: 10px; }

/* Message Bubble */
.message-row { display: flex; margin-bottom: 15px; }
.message-row.self { justify-content: flex-end; }
.message-row.ai { justify-content: flex-start; }

.message-bubble {
    padding: 12px 15px; border-radius: 12px; max-width: 70%; position: relative; word-wrap: break-word;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); min-width: 120px;
}

/* User Message */
.message-row.self .message-bubble { background-color: var(--color-user); color: white; }

/* AI Message */
.message-row.ai .message-bubble { background-color: var(--bg-input); }

/* AI Specific Colors (for identification) */
.message-row.ai[data-sender="ChatGPT"] .message-bubble { border-left: 4px solid var(--color-chatgpt); }
.message-row.ai[data-sender="Gemini"] .message-bubble { border-left: 4px solid var(--color-gemini); }
.message-row.ai[data-sender="Grok"] .message-bubble { border-left: 4px solid var(--color-grok); }

.message-sender { font-weight: 600; font-size: 14px; margin-bottom: 5px; }
.message-row.ai[data-sender="ChatGPT"] .message-sender { color: var(--color-chatgpt); }
.message-row.ai[data-sender="Gemini"] .message-sender { color: var(--color-gemini); }
.message-row.ai[data-sender="Grok"] .message-sender { color: var(--color-grok); }

.message-text { font-size: 15px; line-height: 1.4; }

/* Correction Bubble */
.correction-message {
    background-color: #3b2a3a; /* Merah gelap */
    border: 1px solid var(--color-correction);
    padding: 8px;
    border-radius: 8px;
    margin-top: 10px;
    font-size: 12px;
    color: var(--text-secondary);
}
.correction-message strong { color: var(--color-correction); }

.message-time { font-size: 10px; margin-top: 5px; display: block; text-align: right; color: var(--text-secondary); }
.message-row.self .message-time { color: rgba(255, 255, 255, 0.7); }

/* Input Bar */
.input-bar {
    height: 70px; padding: 0 20px; display: flex; align-items: center;
    background-color: var(--bg-secondary); box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
}
#chat-input {
    flex-grow: 1; background-color: var(--bg-input); border: none; padding: 12px 18px;
    border-radius: 22px; font-size: 16px; color: var(--text-primary); margin-right: 15px;
    outline: none; height: 45px;
}
.send-btn {
    background-color: var(--color-user); color: white; border: none; width: 48px; height: 48px;
    border-radius: 50%; cursor: pointer; display: flex; justify-content: center; align-items: center;
    transition: background-color 0.2s;
}
.send-btn:hover { background-color: #4e63d3; }
.send-btn:disabled { background-color: var(--bg-hover); color: var(--text-secondary); cursor: not-allowed; }
